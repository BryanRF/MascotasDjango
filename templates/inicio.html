{% extends 'base/layout.html' %}
{% load static %}
{% block content %}

<section class="overflow-hidden bg-primary" id="home" style="height:100vh;">
  <div class="container">
    <div class="row flex-center">
      <div class="col-md-5 col-lg-6 order-0 order-md-1 mt-5 mt-md-0">
        <a class="rounded  img-landing-banner shadow rounded" href="#!">
        <img class="img-fluid " src="{% static 'assets/img/gallery/hero-header.png' %}" alt="hero-header"/></a>
      </div>
      <div class="col-md-7 col-lg-6 py-8 text-md-start text-center">
        <h1 class="display-1 fs-md-5 fs-lg-6 fs-xl-8 text-light">Necesitas ayuda?</h1>
        <h1 class="text-dark mb-5 fs-4">Avisanos de tu caso y te atenderemos<br class="d-none d-xxl-block" />
          en dentro de las 24 horas <br> <div class="badge bg-success"><i class="bi bi-whatsapp text-white "></i> 998811758</div> </h1>
        <div class="card w-xxl-75">
          <div class="card-body">
            <nav>
              <div class="nav nav-tabs" id="nav-tab" role="tablist">
                <button class="nav-link active mb-3" id="nav-home-tab" data-bs-toggle="tab"
                  data-bs-target="#nav-home" type="button" role="tab" aria-controls="nav-home"
                  aria-selected="true"><i class="fas fa-home me-2"></i>Visitas o Adopcion</button>
                <button class="nav-link mb-3" id="nav-profile-tab" data-bs-toggle="tab"
                  data-bs-target="#nav-profile" type="button" role="tab" aria-controls="nav-profile"
                  aria-selected="false"><i class="bi bi-cash me-2"></i>Donaciones</button>
              </div>
            </nav>
            <div class="tab-content mt-3" id="nav-tabContent">
              <div class="tab-pane fade show active" id="nav-home" role="tabpanel" aria-labelledby="nav-home-tab">
                <div class="row gx-2 gy-2 align-items-center">
                  <div class="col">
                    <div class="input-group-icon">
                     <h3> #NoCompresAdopta</h3>
                    </div>
                  </div>
                  <div class="d-grid gap-3 col-sm-auto">
                    
                    {% if user.is_authenticated %}
                    <a class="btn btn-danger" href="{% url 'adopcion' %}">Continuar</a>
                    {% else %}
                     <button class="btn btn-danger"
                     onclick="mostrarAlerta()">Continuar
                      </button> 
                    {% endif %}
                  </div>
                  <script>
                    function mostrarAlerta() {
                      Swal.fire({
                        icon: 'warning',
                        title: 'Inicia sesi贸n primero',
                        text: 'Debes iniciar sesi贸n antes de continuar.',
                        showConfirmButton: false,
                        timer: 2000 // Cambia el tiempo de visualizaci贸n si lo deseas
                      });
                    }
                    </script>
                </div>
              </div>
              <div class="tab-pane fade" id="nav-profile" role="tabpanel" aria-labelledby="nav-profile-tab">
                <form class="row gx-4 gy-2 align-items-center">
                  <div class="col">
                    <div class="input-group-icon">
                      <h3> #AgradecidoConElDeArriba</h3>
                    </div>
                  </div>
                  <div class="d-grid gap-3 col-sm-auto">
                    <button class="btn btn-danger" type="button" id="mostrarYape">Donar</button>
                  </div>
                </form>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>
<section class="py-0 bg-primary-gradient">

  <div class="container">
    <div class="row justify-content-center g-0">
      <div class="col-xl-9">
        <div class="col-lg-6 text-center mx-auto mb-3 mb-md-5 mt-4">
          <h5 class="fw-bold text-danger fs-3 fs-lg-5 lh-sm my-6">Nuestro trabajo</h5>
        </div>
        <div class="row">
          <div class="col-sm-6 col-md-3 mb-6">
            <div class="text-center"><img class="shadow-icon" src="{% static 'assets/img/gallery/location.png' %}"
                height="112" alt="..." />
              <h5 class="mt-4 fw-bold">Proceso de Nuevos alojamientos de hullitas a nuestro refugio</h5>
            </div>
          </div>
          <div class="col-sm-6 col-md-3 mb-6">
            <div class="text-center"><img class="shadow-icon" src="{% static 'assets/img/gallery/order.png' %}"
                height="112" alt="..." />
              <h5 class="mt-4 fw-bold">Proceso de adopcion, dale la Bienvenida a tu Nuevo Miembro de Familia</h5>
            </div>
          </div>
          <div class="col-sm-6 col-md-3 mb-6">
            <div class="text-center"><img class="shadow-icon" src="{% static 'assets/img/gallery/pay.png' %}"
                height="112" alt="..." />
              <h5 class="mt-4 fw-bold">Recoleccion de fondos para medicina y alimentos</h5>
            </div>
          </div>
          <div class="col-sm-6 col-md-3 mb-6">
            <div class="text-center"><img class="shadow-icon" src="{% static 'assets/img/gallery/meals.png' %}"
                height="112" alt="..." />
              <h5 class="mt-4 fw-bold"> Alimentamos y mantenemos sanos a nuestras huellitas</h5>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div><!-- end of .container-->
</section>
    <!-- ============================================-->
  <!-- <section> begin ============================-->
      <section >

          <div class="container">
            <div class="col-lg-6 text-center mx-auto mb-3 mb-md-5 mt-4">
              <h5 class="fw-bold  fs-3 fs-lg-5 lh-sm my-6 badge bg-dark"> Proximos eventos </h5>
            </div>
            <div class="row h-100 gx-2 mt-7">
            
              {% for evento in eventos %}
              <div class="col-sm-6 col-lg-3 mb-3 mb-md-0 pb-4" >
                <div class="card card-span h-100">
                  <div class="position-relative">
                    <img id="evento-imagen-{{ forloop.counter }}" class="img-fluid rounded-3 w-100 shadow" src="{% static 'assets/img/eventos/1.png' %}" alt="..." />
                    <div class="card-actions">
                      <div class="badge badge-foodwagon bg-primary p-4">
                        <div class="d-flex flex-between-center">
                          <div class="text-white fs-7">{{ evento.costo_participacion }}</div>
                          <div class="d-block text-white fs-2">S/ <br />
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                  <div class="card-body px-0">
                    <h5 class="fw-bold text-1000 text-truncate">{{ evento.nombre }}</h5>
                    <span class="badge bg-soft-danger py-2 px-3">
                      <span class="fs-1 text-danger">{{ evento.fecha_inicio }}</span>
                    </span>
                  </div>
                  <a class="stretched-link" href="{% url 'ver_evento' evento.id %}"></a>
                </div>
              </div>
            {% endfor %}
            <script> document.addEventListener('DOMContentLoaded', function() {
              {% for evento in eventos %}
                var num = Math.floor(Math.random() * 9) + 1;
                var img = document.getElementById('evento-imagen-{{ forloop.counter }}');
                img.src = '{% static "assets/img/eventos/" %}' + num + '.png';
              {% endfor %}
            });</script>
              
            </div>
            
          </div>
           <div class="col-lg-6 text-center mx-auto mb-3 mb-md-5 mt-4">
            <a  href="#"><h5 class="fw-bold  fs-3 fs-lg-5 lh-sm mt-6 badge bg-dark">Ver Eventos finalizados y sus Ganadores </h5></a>
          </div>
          <!-- end of .container-->
         
        </section>
      <hr>
  <!-- ============================================-->
  <!-- <section> begin ============================-->
      <section class="py-4 overflow-hidden">
          <div class="container">
            
            <div class="row h-100">
              
              <div class="col-lg-7 mx-auto text-center mt-7 mb-5">
                
                <h5 class="fw-bold fs-3 fs-lg-5 lh-sm badge bg-dark">Huellitas Populares</h5>
              </div>
              <div class="col-12">
                <div class="carousel slide" id="carouselPopularItems" data-bs-touch="false" data-bs-interval="false">
                  <div class="carousel-inner">
                    <div class="carousel-item" data-bs-interval="10000">
                      <div class="row gx-3 h-100 align-items-center">
                        <!-- for aqui -->
                        {% for mascota in mascotas_populares %}
                          <div class="col-sm-6 col-md-4 col-xl mb-5 h-100 mascota-container">
                              <div class="card card-span h-100 rounded-3">
                                  <img class="img-fluid rounded-3 h-70"  style="max-height: 300px; min-height: 300px;"  src="{{ mascota.imagen_set.first.imagen.url }}" alt="{{ mascota.nombre }}" />
                           
                                  <div class="card-body ps-0">
                                      <h5 class="fw-bold text-1000 text-truncate mb-1">{{ mascota.nombre }}</h5>
                                      <div>
                                          <span class="text-warning me-2">
                                              <i class="fas fa-map-marker-alt"></i>
                                          </span>
                                          <span class="text-primary">{{ mascota.especie.nombre }}</span> <!-- Reemplaza "nombre" con el nombre del campo que almacena el nombre de la especie -->
                                      </div>
                                      {% for etiqueta in mascota.etiquetas.all|slice:":3" %}
                                        <span class="custom-badge"
                                          >{{ etiqueta.nombre }}</span
                                        >
                                        {% endfor %}
                                  </div>
                              </div>
                              <div class="d-grid gap-2">
                                <div class="options mt-3">
                                  <h6>CODIGO: {{ mascota.codigo }}</h6>
                                  <div class="btn-group" role="group" aria-label="Basic example">
                                    <button class="btn btn-secondary text-white show-details-button"  onclick="getDatosMascota('{{ mascota.id}}')">
                                      <i class="bi bi-clipboard-fill"></i></button> 
                                
                                
                                    <button onclick="likeMascota('{{ mascota.id }}')" type="button" class="btn btn-danger text-white position-relative">
                                      <i class="bi bi-suit-heart-fill"></i>
                                      <span id='like-{{ mascota.id }}'
                                       class="position-absolute top-0 start-100 translate-middle badge rounded-pill bg-secondary animacion text-white like-{{ mascota.id }}">
                                        {{ mascota.likes }}
                                      </span>
                                    </button>
                                  </div>
                                  
                                </div>
                              </div>
                          </div>
                          {% endfor %}
                        <!-- end for -->
                      </div>
                    </div>
                    <div class="carousel-item active" data-bs-interval="10000">
                      <div class="row gx-3 h-100 align-items-center">
                        <!-- for aqui -->
                        {% for mascota in mascotas_populares %}
                          <div class="col-sm-6 col-md-4 col-xl mb-5 h-100 mascota-container">
                              <div class="card card-span h-100 rounded-3">
                                  <img class="img-fluid rounded-3 h-70"  style="max-height: 300px; min-height: 300px;"  src="{{ mascota.imagen_set.first.imagen.url }}" alt="{{ mascota.nombre }}" />
                           
                                  <div class="card-body ps-0">
                                      <h5 class="fw-bold text-1000 text-truncate mb-1">{{ mascota.nombre }}</h5>
                                      <div>
                                          <span class="text-warning me-2">
                                              <i class="fas fa-map-marker-alt"></i>
                                          </span>
                                          <span class="text-primary">{{ mascota.especie.nombre }}</span> <!-- Reemplaza "nombre" con el nombre del campo que almacena el nombre de la especie -->
                                      </div>
                                      {% for etiqueta in mascota.etiquetas.all|slice:":3" %}
                                        <span class="custom-badge"
                                          >#{{ etiqueta.nombre }}</span
                                        >
                                        {% endfor %}
                                  </div>
                              </div>
                              <div class="d-grid gap-2">
                                <div class="options mt-3 col-8 me-auto">
                                  <h6>CODIGO: {{ mascota.codigo }}</h6>
                                  <div class="btn-group" role="group" aria-label="Basic example">
                                    {% if user.is_authenticated %}
                                    <button class="btn btn-secondary text-white show-details-button"  onclick="getDatosMascota('{{ mascota.id}}')">
                                      <i class="bi bi-clipboard-fill"></i></button> 
                                      {% endif %}
                                
                                    <button onclick="likeMascota('{{ mascota.id }}')" type="button" class="btn btn-danger text-white position-relative">
                                      <i class="bi bi-suit-heart-fill"></i>
                                      <span id='like-{{ mascota.id }}'
                                       class="position-absolute top-0 start-100 translate-middle badge rounded-pill bg-secondary animacion text-white like-{{ mascota.id }}">
                                        {{ mascota.likes }}
                                      </span>
                                    </button>
                                  </div>
                                </div>
                              </div>
                          </div>
                          {% endfor %}
                        <!-- end for -->
                      </div>
                    </div>
                 
                    
                 
                  </div>
                  <button class="carousel-control-prev carousel-icon" type="button" data-bs-target="#carouselPopularItems" data-bs-slide="prev">
                    <span class="carousel-control-prev-icon hover-top-shadow" aria-hidden="true"></span>
                    <span class="visually-hidden">Previous</span>
                  </button>
                  <button class="carousel-control-next carousel-icon" type="button" data-bs-target="#carouselPopularItems" data-bs-slide="next">
                    <span class="carousel-control-next-icon hover-top-shadow" aria-hidden="true"></span>
                    <span class="visually-hidden">Next </span>
                  </button>
                </div>
              </div>
            </div>
          </div>
          <!-- end of .container-->
        </section>
        <hr>
        <!-- <section> close ============================-->
        <!-- ============================================-->
        <section id="testimonial">
          <div class="container">
            <div class="row h-100">
              <div class="col-lg-7 mx-auto text-center mb-6">
                <h5 class="fw-bold fs-3 fs-lg-5 lh-sm mb-3 badge bg-dark">Todas nuestras huellitas</h5>
              </div>
            </div>
            <div class="row gx-2">
              <!-- start for -->
              {% for mascota in object_list %}
              <div class="col-sm-6 col-md-4 col-lg-3 h-100 mb-5">
                <div class="card card-span h-100 text-white rounded-3">
                  <img class="img-fluid rounded-3 h-100" style="max-height: 300px; min-height: 300px; "  src="{{ mascota.imagen_set.first.imagen.url }}" alt="..." />
                  <div class="card-img-overlay ps-0">
                    <div class="btn-group" role="group" aria-label="Basic example">
                   
                    {% if user.is_authenticated %}
                    <button class="btn btn-secondary text-white show-details-button p-2 ms-3 rounded-pill"  onclick="getDatosMascota('{{ mascota.id}}')">
                      <i class="bi bi-clipboard-fill"></i></button> 
                    {% endif %}
                    <button onclick="likeMascota('{{ mascota.id }}')" type="button" class="rounded-pill btn btn-danger p-2 ms-3 text-white position-relative">
                      <i class="bi bi-suit-heart-fill"></i>
                      <span id='like-{{ mascota.id }}'
                       class="position-absolute  top-0 start-100 translate-middle badge rounded-pill bg-secondary animacion text-white like-{{ mascota.id }}">
                        {{ mascota.likes }}
                      </span>
                    </button>
                  </div>
                  </div>
                  <div class="card-body ps-0">
                    <div class="d-flex align-items-center mb-3">
                      <div class="flex-1 ms-3">
                        <h5 class="mb-0 fw-bold text-1000">{{ mascota.nombre }}</h5>
                        <span class="text-danger fs--1 ">
                        </span>
                        <span class="mb-0 text-primary">  {{ mascota.descripcion }}</span>
                      </div>
                    </div>
                      {% for etiqueta in mascota.etiquetas.all %}
                      <span class="custom-badge"
                        >#{{ etiqueta.nombre }}</span
                      >
                      {% endfor %}

                  </div>
                </div>
              </div>
              {% endfor %}
              <!-- end for -->
            </div>
            <div class="col-12 d-flex justify-content-center mt-5">
           {% comment %}  {% endcomment %}
           <nav aria-label="Page navigation example" style="display: flex; justify-content: center;">
            <ul class="pagination">
                <li class="page-item">
                    {% if page_obj.has_previous %}
                        <a class="page-link" href="?page={{ page_obj.previous_page_number }}">Previous &laquo;</a>
                    {% endif %}
                </li>
                <li class="page-item">
                    {% if page_obj.has_next %}
                        <a class="page-link" href="?page={{ page_obj.next_page_number }}">&raquo; Next</a>
                    {% endif %}
                </li>
            </ul>
        </nav>
        
    
        
        <br>
       
        <nav aria-label="Page navigation example" style="display: flex; justify-content: center;">
          <ul class="pagination">
            
      
              {% for page in page_obj.paginator.page_range %}
                  {% if page == page_obj.number %}
                      <li class="page-item active">
                          <span class="page-link">{{ page }}</span>
                      </li>
                  {% else %}
                      <li class="page-item">
                          <a class="page-link" href="?page={{ page }}">{{ page }}</a>
                      </li>
                  {% endif %}
              {% endfor %}
      
              {% if page_obj.has_next %}
                  <li class="page-item">
                      <a class="page-link" href="?page={{ page_obj.next_page_number }}" aria-label="Siguiente">
                          <span aria-hidden="true">&raquo;</span>
                      </a>
                  </li>
                  <li class="page-item">
                      <a class="page-link" href="?page={{ page_obj.paginator.num_pages }}" aria-label="ltimo">
                          <span aria-hidden="true">&raquo;&raquo;</span>
                      </a>
                  </li>
              {% endif %}
          </ul>
      </nav>
      
        


           {% comment %}  {% endcomment %}
            </div>
          </div>
        </section>
        <hr>
        <!-- ============================================-->
        <!-- <section> begin ============================-->
        <section class="py-8 overflow-hidden">
          <div class="container">
            <div class="row h-100">
              <div class="col-lg-7 mx-auto text-center mb-6">
                <h5 class="fw-bold fs-3 fs-lg-5 lh-sm mb-3 badge bg-dark">Especies de nuestras huellitas</h5>
              </div>
            </div>
            <div class="row flex-center">
              <div class="col-12">
                <div class="carousel slide" id="carouselSearchByFood" data-bs-touch="false" data-bs-interval="false">
                  <div class="carousel-inner">
                    <div class="carousel-item active" data-bs-interval="10000">
                      <div class="row h-100 align-items-center">

                        {% for especie in especies %}
                        <div class="col-sm-6 col-md-4 col-xl mb-5 h-100">
                          <div class="card card-span h-100 rounded-circle">
                            <img class="img-fluid rounded-circle h-50" style="border: 5px solid #F17228;" src="{{ especie.imagen.url }}" alt="{{ especie.nombre }}" />
                            <div class="card-body ps-0">
                              <h5 class="text-center fw-bold text-1000 text-truncate mb-2">{{ especie.nombre }}</h5>
                            </div>
                          </div>
                        </div>
                      {% endfor %}

                      </div>
                    </div>
                    
               
                 
                  </div>
                </div>
              </div>
            </div>
          </div>
          <!-- end of .container-->
        </section>
        <hr>
        <!-- <section> close ============================-->
        <!-- ============================================-->
        <section class="pb-5 pt-8">
          <div class="container">
            <div class="row">
              <div class="col-12">
                <div class="card card-span mb-3 shadow-lg">
                  <div class="card-body py-0">
                    <div class="row justify-content-center">
                      <div class="col-md-5 col-xl-7 col-xxl-8 g-0 order-0 order-md-1">
                        <img class="img-fluid w-100 fit-cover h-100 rounded-top rounded-md-end rounded-md-top-0" src="{% static 'assets/img/gallery/pexels-helena-lopes-1938123.webp' %}" alt="..." />
                      </div>
                      <div class="col-md-7 col-xl-5 col-xxl-4 p-4 p-lg-5">
                        <h1 class="card-title mt-xl-5 mb-4">Contactanos  <span class="text-primary"> si buscas ayuda o refugio para animales</span>
                        </h1>
                        <p class="fs-1">Estaremos siempre a tu disposicion.</p>
                        <div class="d-grid bottom-0">
                          <a class="btn btn-lg btn-primary mt-xl-6" href="{% url 'adopcion'%}">Abrir formulario<i class="fas fa-chevron-right ms-2"></i>
                          </a>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <!-- end of .container-->
        </section>
      
        <script>
          const btnMostrarYape = document.getElementById('mostrarYape');

btnMostrarYape.addEventListener('click', function() {
Swal.fire({
title: 'Escanea el c贸digo QR con Yape',
html: '<img src="https://cdn.britannica.com/17/155017-050-9AC96FC8/Example-QR-code.jpg" style="max-width: 100%; height: auto;">',
confirmButtonText: 'Cerrar',
confirmButtonColor: '#FFB30E',
showCancelButton: false,

});
});
        </script>
        <!-- <section> close ============================-->
        <!-- ============================================-->
        <!-- <section> close ============================-->
        <!-- ============================================-->


        {% if user.is_superuser %}
        <script>
                window.location.href = "{% url 'logout_view' %}";
        </script>
    {% endif %}
    {% endblock %}